#!/usr/bin/env php
<?php

use App\Commands\InstallCommand;
use App\Commands\FreshCommand;
use App\Commands\DoctorCommand;
use Symfony\Component\Console\Application;

// Try local vendor first (dev mode)
$local = __DIR__ . '/../vendor/autoload.php';

$global = __DIR__ . '/../../../autoload.php';

if (file_exists($local)) {
    require $local;
} elseif (file_exists($global)) {
    require $global;
} else {
    fwrite(STDERR, "Could not find Composer autoload.\\n\"");
    exit(1);
}



$app = new Application('devx', '0.1.0');
$app->addCommands([new InstallCommand, new FreshCommand, new DoctorCommand]);
$app->run();
